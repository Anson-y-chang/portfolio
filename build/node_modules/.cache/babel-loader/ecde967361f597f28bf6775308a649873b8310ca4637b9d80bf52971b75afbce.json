{"ast":null,"code":"import React from'react';import{useSearchContext}from'../context/SearchContext';import{Link}from'react-router-dom';import products from'../data/products.json';import styles from'./SearchBlock.module.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchBlock(){var _useSearchContext=useSearchContext(),localSearchParams=_useSearchContext.localSearchParams;var foundProducts=products.filter(function(i){return i.name.toLocaleLowerCase().indexOf(localSearchParams.toLocaleLowerCase())!==-1;});var closeSearch=function closeSearch(){if(document.querySelector('.menu-active')){var pageContainer=document.querySelector('.page-container');var cart=document.querySelector('.cart');var mark=document.querySelector('.mark');var searchBlock=document.querySelector('.search-block');var menuSearchMark=document.querySelector('.menu-search-mark');pageContainer.classList.remove('menu-active');cart.classList.remove('menu-active');mark.classList.remove('active');searchBlock.classList.remove('menu-active');menuSearchMark.classList.remove('active');}else{var searchMark=document.querySelector('.search-mark');var _searchBlock=document.querySelector('.search-block');searchMark.classList.remove('active');_searchBlock.classList.remove('active');}};var searchOutput=function searchOutput(){switch(foundProducts.length){// 找不到\ncase 0:return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Sorry, nothing found for \",localSearchParams,\".\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-link\",children:/*#__PURE__*/_jsx(Link,{to:\"/ecommerce/search\",onClick:function onClick(){return closeSearch();},children:\"SEE ALL PRODUCTS\"})})]});// 未填寫留空\ncase products.length:return/*#__PURE__*/_jsx(_Fragment,{});default:return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.searchItems,children:foundProducts.slice(0,3).map(function(i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:require('../img/products/'+i.imgUrl.split('/').slice(-2).join('/')),alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{children:i.name})]},i.id);})}),/*#__PURE__*/_jsx(\"div\",{className:styles.searchLink,children:/*#__PURE__*/_jsx(Link,{to:\"/ecommerce/search?q=\".concat(localSearchParams),onClick:function onClick(){return closeSearch();},children:\"SEE All FOUND PRODUCTS\"})})]});}};return/*#__PURE__*/_jsx(\"div\",{className:\"search-block \".concat(styles.searchBlock),children:searchOutput()});}export default SearchBlock;","map":{"version":3,"names":["React","useSearchContext","Link","products","styles","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","SearchBlock","_useSearchContext","localSearchParams","foundProducts","filter","i","name","toLocaleLowerCase","indexOf","closeSearch","document","querySelector","pageContainer","cart","mark","searchBlock","menuSearchMark","classList","remove","searchMark","searchOutput","length","children","className","to","onClick","searchItems","slice","map","src","require","imgUrl","split","join","alt","id","searchLink","concat"],"sources":["/Users/zhangyu-cheng/Desktop/coding/portfolio/src/pages/EcommerceWebsite/components/SearchBlock.js"],"sourcesContent":["import React from 'react';\nimport { useSearchContext } from '../context/SearchContext';\nimport { Link } from 'react-router-dom';\nimport products from '../data/products.json';\nimport styles from './SearchBlock.module.css'\n\nfunction SearchBlock() {\n  const { localSearchParams } = useSearchContext()\n  const foundProducts = products.filter(i => i.name.toLocaleLowerCase().indexOf(localSearchParams.toLocaleLowerCase()) !== -1)\n  const closeSearch = () => {\n    if (document.querySelector('.menu-active')) {\n      const pageContainer = document.querySelector('.page-container');\n      const cart = document.querySelector('.cart')\n      const mark = document.querySelector('.mark')\n      const searchBlock = document.querySelector('.search-block')\n      const menuSearchMark = document.querySelector('.menu-search-mark')\n      pageContainer.classList.remove('menu-active');\n      cart.classList.remove('menu-active');\n      mark.classList.remove('active');\n      searchBlock.classList.remove('menu-active');\n      menuSearchMark.classList.remove('active');\n    } else {\n      const searchMark = document.querySelector('.search-mark')\n      const searchBlock = document.querySelector('.search-block')\n      searchMark.classList.remove('active')\n      searchBlock.classList.remove('active')\n    }\n  }\n  const searchOutput = () => {\n    switch (foundProducts.length) {\n      // 找不到\n      case 0:\n        return  <>\n                  <div>Sorry, nothing found for {localSearchParams}.</div>\n                  <div className='search-link'>\n                  <Link to='/ecommerce/search' onClick={() => closeSearch()}>SEE ALL PRODUCTS</Link>\n                  </div>\n                </>\n      // 未填寫留空\n      case products.length:\n        return <></>       \n      default:\n        return  <>\n                  <div>Products</div>\n                  <div className={styles.searchItems}>\n                  {foundProducts.slice(0,3).map(i => \n                    <div key={i.id} >  \n                      <img src={require('../img/products/' + i.imgUrl.split('/').slice(-2).join('/'))} alt=\"\" />\n                      <div>{i.name}</div>\n                    </div>\n                    )}\n                  </div>\n                  <div className={styles.searchLink}>\n                  <Link to={`/ecommerce/search?q=${localSearchParams}`} onClick={() => closeSearch()}>SEE All FOUND PRODUCTS</Link>\n                  </div>\n                </>\n    }\n  }\n  return (\n    <div className={`search-block ${styles.searchBlock}`}>\n      {searchOutput()}\n    </div>\n\n  );\n}\n\nexport default SearchBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
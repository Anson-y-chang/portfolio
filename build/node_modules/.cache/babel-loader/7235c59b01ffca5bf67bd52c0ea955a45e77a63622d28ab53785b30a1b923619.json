{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhangyu-cheng/Desktop/coding/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/zhangyu-cheng/Desktop/coding/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/zhangyu-cheng/Desktop/coding/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zhangyu-cheng/Desktop/coding/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),workouts=_useState2[0],setWorkouts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],setLoad=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),reps=_useState8[0],setReps=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var workout,res,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();workout={title:title,load:load,reps:reps};_context.next=4;return fetch(\"/api/workouts\",{method:\"POST\",body:JSON.stringify(workout),headers:{\"Content-Type\":\"application/json\"}});case 4:res=_context.sent;_context.next=7;return res.json();case 7:json=_context.sent;// 伺服器接收post後回傳添加的workout\nif(!res.ok){setError(json.error);}else{setTitle(\"\");setLoad(\"\");setReps(\"\");setError(null);setWorkouts(function(cur){return[json].concat(_toConsumableArray(cur));});console.log({\"new workout added\":json});}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var fetchWorkouts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/api/workouts');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:json=_context2.sent;if(res.ok){setWorkouts(json);}case 7:case\"end\":return _context2.stop();}},_callee2);}));return function fetchWorkouts(){return _ref2.apply(this,arguments);};}();fetchWorkouts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Wills\"}),workouts&&workouts.map(function(workout){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:workout.title}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Load: \",workout.load]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"reps: \",workout.reps]}),/*#__PURE__*/_jsx(\"div\",{children:workout.createdAt})]},workout._id);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"add a new workout\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",onChange:function onChange(e){setTitle(e.target.value);},value:title,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"load\",children:\"Load (in kg):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"load\",type:\"number\",onChange:function onChange(e){setLoad(e.target.value);},value:load,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reps\",children:\"Reps\"}),/*#__PURE__*/_jsx(\"input\",{id:\"reps\",type:\"number\",onChange:function onChange(e){setReps(e.target.value);},value:reps,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{children:error})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","workouts","setWorkouts","_useState3","_useState4","title","setTitle","_useState5","_useState6","load","setLoad","_useState7","_useState8","reps","setReps","_useState9","_useState10","error","setError","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","workout","res","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","body","JSON","stringify","headers","sent","ok","cur","concat","_toConsumableArray","console","log","stop","_x","apply","arguments","fetchWorkouts","_ref2","_callee2","_callee2$","_context2","children","map","createdAt","_id","onSubmit","htmlFor","id","type","onChange","target","value","required"],"sources":["/Users/zhangyu-cheng/Desktop/coding/portfolio/src/pages/wills/Home.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nfunction Home() {\nconst [workouts, setWorkouts] = useState(null)\nconst [title, setTitle] = useState('')\nconst [load, setLoad] = useState('')\nconst [reps, setReps] = useState('')\nconst [error, setError] = useState(null)\n\nconst handleSubmit = async (e) => {\n  e.preventDefault()\n  const workout = {title, load, reps}\n  const res = await fetch(\"/api/workouts\", {\n    method: \"POST\",\n    body: JSON.stringify(workout),\n    headers: {\"Content-Type\": \"application/json\"}\n  })\n\n  const json = await res.json() // 伺服器接收post後回傳添加的workout\n  if (!res.ok) {\n    setError(json.error)\n  } else {\n    setTitle(\"\")\n    setLoad(\"\")\n    setReps(\"\")\n    setError(null)\n    setWorkouts((cur) => ([json,...cur]))\n    console.log({\"new workout added\": json})\n  }\n}\n\n  useEffect(() => {\n    const fetchWorkouts = async () => {\n      const res = await fetch('/api/workouts')\n      const json = await res.json()\n      if (res.ok) {\n        setWorkouts(json)\n      }\n    }\n    fetchWorkouts()\n  },[])\n  \n\n  return (\n    <div>\n      <h2>Wills</h2>\n      {workouts && workouts.map((workout) => (\n        <div key={workout._id}>\n          <h3>{workout.title}</h3>\n          <div>Load: {workout.load}</div>\n          <div>reps: {workout.reps}</div>\n          <div>{workout.createdAt}</div>\n        </div>\n      ))}\n    <form onSubmit={handleSubmit}>\n      <h2>add a new workout</h2>\n      <label htmlFor=\"title\">Title:</label>\n      <input \n        id=\"title\"\n        type=\"text\" \n        onChange={(e) => {setTitle(e.target.value)}}\n        value={title}\n        required\n      /><br/>\n      <label htmlFor=\"load\">Load (in kg):</label>\n      <input \n        id=\"load\"\n        type=\"number\" \n        onChange={(e) => {setLoad(e.target.value)}}\n        value={load}\n        required\n      /><br/>\n      <label htmlFor=\"reps\">Reps</label>\n      <input \n        id=\"reps\"\n        type=\"number\" \n        onChange={(e) => {setReps(e.target.value)}}\n        value={reps}\n        required\n      /><br/>\n      <input type=\"submit\" />\n    </form>\n    {error && <div>{error}</div>}\n    </div>\n  );\n}\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
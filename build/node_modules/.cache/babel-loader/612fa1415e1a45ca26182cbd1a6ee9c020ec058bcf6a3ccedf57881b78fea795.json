{"ast":null,"code":"import _slicedToArray from\"/Users/zhangyu-cheng/Desktop/coding/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useLocation,useSearchParams}from'react-router-dom';import{useCartContext}from'../context/CartContext';import products from'../data/products.json';import formatCurrency from'../utilities/CurrenyFormartor';import sortUp from'../utilities/sortUp';import styles from'./Products.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Products(){// 添加 add to cart 功能\nvar _useCartContext=useCartContext(),increaseCartItem=_useCartContext.increaseCartItem;// 依照 feature 濾掉不需要的產品\nvar location=useLocation();var ProductsInPage=location.pathname.split('/')[3]?products.filter(function(i){return i.class===location.pathname.split('/')[3];}):products;var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];// 添加 sort up 功能\nvar productsAfterSort=sortUp(ProductsInPage,searchParams.get('sort_by'));var finalProducts=searchParams.get('q')?productsAfterSort.filter(function(i){return i.name.toLocaleLowerCase().indexOf(searchParams.get('q').toLocaleLowerCase())!==-1;}):productsAfterSort;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.contentContainer,children:finalProducts.map(function(i){return/*#__PURE__*/_jsxs(\"div\",{className:styles.productContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.productImgContainer,children:[/*#__PURE__*/_jsx(\"img\",{src:require('../img/products/'+i.imgUrl.split('/').slice(-2).join('/')),alt:\"\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.addToCart,onClick:function onClick(){return increaseCartItem(i.id);},children:\"+ Add to Cart\"})]}),/*#__PURE__*/_jsx(\"div\",{children:i.name}),/*#__PURE__*/_jsx(\"div\",{children:formatCurrency(i.price)})]},i.id);})})});}export default Products;","map":{"version":3,"names":["React","useLocation","useSearchParams","useCartContext","products","formatCurrency","sortUp","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","_useCartContext","increaseCartItem","location","ProductsInPage","pathname","split","filter","i","class","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","productsAfterSort","get","finalProducts","name","toLocaleLowerCase","indexOf","children","className","contentContainer","map","productContainer","productImgContainer","src","require","imgUrl","slice","join","alt","addToCart","onClick","id","price"],"sources":["/Users/zhangyu-cheng/Desktop/coding/portfolio/src/pages/EcommerceWebsite/components/Products.js"],"sourcesContent":["import React from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { useCartContext } from '../context/CartContext';\nimport products from '../data/products.json';\nimport formatCurrency from '../utilities/CurrenyFormartor';\nimport sortUp from '../utilities/sortUp';\nimport styles from './Products.module.css';\n\nfunction Products() {\n  // 添加 add to cart 功能\n  const { increaseCartItem } = useCartContext();\n  // 依照 feature 濾掉不需要的產品\n  const location = useLocation();\n  const ProductsInPage =  location.pathname.split('/')[3] ? products.filter(i => i.class === location.pathname.split('/')[3]) : products;\n  const [searchParams] = useSearchParams();\n  // 添加 sort up 功能\n  const productsAfterSort = sortUp(ProductsInPage, searchParams.get('sort_by'));\n\n  const finalProducts = searchParams.get('q') ?\n    productsAfterSort.filter(i => i.name.toLocaleLowerCase().indexOf(searchParams.get('q').toLocaleLowerCase()) !== -1) : \n    productsAfterSort\n  \n  return (\n    <>\n    <div className={styles.contentContainer}>\n      {finalProducts\n      .map(i => \n      <div className={styles.productContainer} key={i.id}>\n        <div className={styles.productImgContainer}>\n          <img src={require('../img/products/'+i.imgUrl.split('/').slice(-2).join('/'))} alt=\"\" />\n          <button className={styles.addToCart} onClick={() => increaseCartItem(i.id)}>+ Add to Cart</button>\n        </div>\n        <div>{i.name}</div>\n        <div>{formatCurrency(i.price)}</div>\n      </div> )\n      }\n    </div>\n    </>\n    \n  );\n}\n\nexport default Products;"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,eAAe,KAAQ,kBAAkB,CAC/D,OAASC,cAAc,KAAQ,wBAAwB,CACvD,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAC1D,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE3C,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB;AACA,IAAAC,eAAA,CAA6BZ,cAAc,CAAC,CAAC,CAArCa,gBAAgB,CAAAD,eAAA,CAAhBC,gBAAgB,CACxB;AACA,GAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAiB,cAAc,CAAID,QAAQ,CAACE,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAGhB,QAAQ,CAACiB,MAAM,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,KAAK,GAAKN,QAAQ,CAACE,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAC,CAAGhB,QAAQ,CACtI,IAAAoB,gBAAA,CAAuBtB,eAAe,CAAC,CAAC,CAAAuB,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAjCG,YAAY,CAAAF,iBAAA,IACnB;AACA,GAAM,CAAAG,iBAAiB,CAAGtB,MAAM,CAACY,cAAc,CAAES,YAAY,CAACE,GAAG,CAAC,SAAS,CAAC,CAAC,CAE7E,GAAM,CAAAC,aAAa,CAAGH,YAAY,CAACE,GAAG,CAAC,GAAG,CAAC,CACzCD,iBAAiB,CAACP,MAAM,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACS,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAACC,OAAO,CAACN,YAAY,CAACE,GAAG,CAAC,GAAG,CAAC,CAACG,iBAAiB,CAAC,CAAC,CAAC,GAAK,CAAC,CAAC,GAAC,CACnHJ,iBAAiB,CAEnB,mBACEnB,IAAA,CAAAI,SAAA,EAAAqB,QAAA,cACAzB,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAAC6B,gBAAiB,CAAAF,QAAA,CACrCJ,aAAa,CACbO,GAAG,CAAC,SAAAf,CAAC,qBACNX,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAAC+B,gBAAiB,CAAAJ,QAAA,eACtCvB,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAACgC,mBAAoB,CAAAL,QAAA,eACzCzB,IAAA,QAAK+B,GAAG,CAAEC,OAAO,CAAC,kBAAkB,CAACnB,CAAC,CAACoB,MAAM,CAACtB,KAAK,CAAC,GAAG,CAAC,CAACuB,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAE,CAACC,GAAG,CAAC,EAAE,CAAE,CAAC,cACxFpC,IAAA,WAAQ0B,SAAS,CAAE5B,MAAM,CAACuC,SAAU,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA/B,gBAAgB,CAACM,CAAC,CAAC0B,EAAE,CAAC,EAAC,CAAAd,QAAA,CAAC,eAAa,CAAQ,CAAC,EAC/F,CAAC,cACNzB,IAAA,QAAAyB,QAAA,CAAMZ,CAAC,CAACS,IAAI,CAAM,CAAC,cACnBtB,IAAA,QAAAyB,QAAA,CAAM7B,cAAc,CAACiB,CAAC,CAAC2B,KAAK,CAAC,CAAM,CAAC,GANQ3B,CAAC,CAAC0B,EAO3C,CAAC,EAAC,CAAC,CAEL,CAAC,CACJ,CAAC,CAGP,CAEA,cAAe,CAAAlC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}